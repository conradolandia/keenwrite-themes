% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
%
% Configure font names and sizes.
%
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 

% Enable replacing ligatures and ellipses (tlig=no).
\definefontfeature[TextFontFeature][default][
  liga=yes,
  tlig=yes,
  mode=node,
  protrusion=quality,
  expansion=quality
]

% Define a font for displaying emojis.
\definefont [TextFontEmoji] [OpenSansEmoji]

% Prime, double-prime, multiplication, musical notes, etc.
\definefallbackfamily [TextFont] [serif] [TeX Gyre Pagella Math] [
  range={generalpunctuation, miscellaneoussymbols, arrows}
]

% Greek letters aren't defined by Baskerville, first try Source Serif Pro.
% Source Serif Pro pairs well with Libre Baskerville in terms of font weight
% and rounded accents. The rscale is found by direct letter comparisons.
\definefallbackfamily [TextFont] [serif] [Source Serif Pro] [
  range=greekandcoptic,
  rscale=1.17
]

% If Source Serif Pro isn't installed, use Gentium Plus. It doesn't pair
% as well as Source Serif Pro, but is a decent second choice.
\definefallbackfamily [TextFont] [serif] [Gentium Plus] [
  range=greekandcoptic,
  rscale=1.2
]

\definefontfamily [TextFont] [rm] [LibreBaskerville] [features=TextFontFeature]
\definefontfamily [TextFont] [ss] [Latin Modern Sans]
\definefontfamily [TextFont] [tt] [Inconsolata]
\definefontfamily [TextFont] [mm] [TeX Gyre Pagella Math]

\starttypescript [mono] [TextTypewriter]
  \definefontsynonym [Mono] [underwoodquiettab]
\stoptypescript

\starttypescript [TextTypewriter]
  \definetypeface
    [TextTypewriter] [tt] [mono] [TextTypewriter] [default] [rscale=0.75]
\stoptypescript

\setupbodyfont[TextFont]

\definefont[TextFontChapter][SansBold sa 4]
\definefont[TextFontSection][SansBold sa 1.5]
\definefont[TextFontSubsection][SansBold sa 1.25]
\definefont[TextFontSourceCode][Mono sa 0.8]

\definefontsize[e]
\setupbodyfontenvironment[default][e=6.5]
\setupbodyfontenvironment[default][d=3.5]

